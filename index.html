<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>VibeCoding Lyric Generator</title>
<style>
  :root{
    --bg:#0b0e14;--card:#111624;--text:#e7f0ff;--muted:#93a2c8;
    --acc:#6ee7ff;--acc2:#a78bfa;--ok:#34d399;
  }
  *{box-sizing:border-box}
  body{
    margin:0;background:radial-gradient(1200px 600px at 20% -10%, #13203d 0%, #0b0e14 45%, #070a0f 100%);
    color:var(--text);font:500 16px/1.6 system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  }
  header{
    padding:24px 20px 8px;display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap
  }
  .brand{display:flex;gap:12px;align-items:center}
  .logo{
    width:40px;height:40px;border-radius:12px;background:
      conic-gradient(from 210deg, var(--acc), var(--acc2), var(--acc));
    box-shadow:0 0 24px rgba(110,231,255,.35), inset 0 0 30px rgba(255,255,255,.08);
  }
  h1{margin:0;font-size:20px;letter-spacing:.3px}
  main{padding:8px 20px 36px;display:grid;grid-template-columns:1.1fr 1.4fr;gap:18px}
  @media(max-width:980px){ main{grid-template-columns:1fr} }
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
    border:1px solid rgba(255,255,255,.06);
    border-radius:16px;padding:16px 16px 14px;backdrop-filter: blur(6px);
    box-shadow:0 10px 30px rgba(0,0,0,.35);
  }
  .card h2{margin:2px 0 12px;font-size:16px;color:#cfe2ff}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .row3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
  label{display:block;margin:10px 0 6px;color:var(--muted);font-size:13px}
  textarea,input,select{
    width:100%;padding:12px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.08);
    background:#0e1422;color:var(--text);outline:none;font-size:14px;
  }
  textarea{min-height:120px;resize:vertical}
  .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
  button{
    padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.1);
    background:linear-gradient(180deg, #1a2236, #141b2b);color:var(--text);cursor:pointer;
    transition:.15s transform ease, .15s background ease;
  }
  button:hover{transform:translateY(-1px)}
  .primary{background:linear-gradient(180deg, #1c3950, #112b3f);border-color:#263d55}
  .ok{background:linear-gradient(180deg, #174434, #123528);border-color:#1f6a53}
  .outline{background:transparent}
  .badge{
    display:inline-block;font-size:12px;padding:4px 8px;border-radius:999px;margin-left:8px;color:#bde7ff;background:rgba(110,231,255,.12);border:1px solid rgba(110,231,255,.35)
  }
  .output{
    min-height:360px;white-space:pre-wrap;font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
    border:1px dashed rgba(255,255,255,.08);border-radius:14px;padding:14px;margin-top:8px
  }
  .footerNote{color:var(--muted);font-size:12px;margin-top:10px}
  .tiny{font-size:12px;color:var(--muted)}
  .gridFine{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .muted{color:#9eb1db}
  .tip{font-size:12px;color:#a7ffea}
</style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1>VibeCoding Lyric Generator <span class="badge">ãƒ©ãƒƒãƒ— Ã— ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</span></h1>
        <div class="tiny">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥ã‚Œã¦ã€ãƒ ãƒ¼ãƒ‰/éŸ»ã‚¹ã‚­ãƒ¼ãƒ /é•·ã•ã‚’é¸ã¶ã ã‘ã€‚å®Œå…¨ãƒ­ãƒ¼ã‚«ãƒ«ãƒ»APIä¸è¦ã€‚</div>
      </div>
    </div>
  </header>

  <main>
    <!-- å·¦ï¼šè¨­å®š -->
    <section class="card" aria-labelledby="config">
      <h2 id="config">è¨­å®š</h2>
      <label for="words">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆã‚«ãƒ³ãƒ or æ”¹è¡ŒåŒºåˆ‡ã‚Šï¼‰</label>
      <textarea id="words" placeholder="ä¾‹ï¼‰ç¤¾ä¼šä¸é©åˆè€…, ãƒ‡ãƒãƒƒã‚°, ç„¡é™, ä¸¸ã®å†…, ã‚·ã‚§ã‚¢ãƒã‚¦ã‚¹"></textarea>

      <div class="row">
        <div>
          <label for="mood">ãƒ ãƒ¼ãƒ‰</label>
          <select id="mood">
            <option value="heartbreak">å¤±æ‹Ã—å¾©æ´»</option>
            <option value="aggressive">ã‚¢ã‚°ãƒ¬ãƒƒã‚·ãƒ–</option>
            <option value="chill" selected>ãƒãƒ«/æ—¥å¸¸</option>
            <option value="conscious">ç¤¾ä¼š/å†…çœ</option>
            <option value="flex">è‡ªä¿¡/ãƒ•ãƒ¬ãƒƒã‚¯ã‚¹</option>
          </select>
        </div>
        <div>
          <label for="style">ã‚¹ã‚¿ã‚¤ãƒ«</label>
          <select id="style">
            <option value="boombap" selected>BoomBap</option>
            <option value="trap">Trap</option>
            <option value="lofi">Lo-fi</option>
          </select>
        </div>
      </div>

      <div class="row3">
        <div>
          <label for="scheme">éŸ»ã‚¹ã‚­ãƒ¼ãƒ </label>
          <select id="scheme">
            <option value="AABB" selected>AABB</option>
            <option value="ABAB">ABAB</option>
            <option value="AAAA">AAAA</option>
          </select>
        </div>
        <div>
          <label for="bars">ãƒãƒ¼æ•°</label>
          <select id="bars">
            <option value="8">8 bars</option>
            <option value="12" selected>12 bars</option>
            <option value="16">16 bars</option>
          </select>
        </div>
        <div>
          <label for="seed">SEEDï¼ˆåŒã˜çµæœã«ã—ãŸã„æ™‚ï¼‰</label>
          <input id="seed" placeholder="ä»»æ„ã®æ–‡å­—åˆ—ã€‚ç©ºã ã¨æ¯å›ãƒ©ãƒ³ãƒ€ãƒ " />
        </div>
      </div>

      <div class="gridFine">
        <div>
          <label><input type="checkbox" id="showHooks" checked /> ã‚µãƒ“ï¼ˆãƒ•ãƒƒã‚¯ï¼‰ã‚’è‡ªå‹•ç”Ÿæˆ</label>
        </div>
        <div>
          <label><input type="checkbox" id="codeTone" checked /> ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”¨èªã‚’å¤šã‚ã«æ··ãœã‚‹</label>
        </div>
      </div>

      <div class="controls">
        <button id="gen" class="primary">ãƒªãƒªãƒƒã‚¯ã‚’ç”Ÿæˆ</button>
        <button id="copy" class="outline">ã‚³ãƒ”ãƒ¼</button>
        <button id="download" class="outline">.txtã§ä¿å­˜</button>
        <button id="share" class="ok">å…±æœ‰</button>
      </div>
      <div class="footerNote">
        <span class="tip">Tip:</span> åŒã˜SEEDï¼‹åŒã˜è¨­å®šï¼åŒã˜æ­Œè©ã€‚ãƒ©ãƒ³ãƒ€ãƒ ã«ã—ãŸã„ã¨ãã¯SEEDã‚’ç©ºã«ã€‚
      </div>
    </section>

    <!-- å³ï¼šå‡ºåŠ› -->
    <section class="card" aria-labelledby="outputTitle">
      <h2 id="outputTitle">å‡ºåŠ›</h2>
      <div id="out" class="output" aria-live="polite" aria-atomic="true">ã“ã“ã«ãƒªãƒªãƒƒã‚¯ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</div>
      <div class="footerNote muted">â€» ç°¡æ˜“çš„ãªæ“¬ä¼¼éŸ»ãƒ­ã‚¸ãƒƒã‚¯ã§çµ‚éŸ»ã‚’åˆã‚ã›ã¦ã„ã¾ã™ï¼ˆæ—¥æœ¬èªï¼‹ãƒ­ãƒ¼ãƒå­—ã£ã½ã„çµ‚ç«¯ï¼‰ã€‚</div>
    </section>
  </main>

<script>
/* ===== å°ã•ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆã‚·ãƒ¼ãƒ‰ä»˜ãä¹±æ•°ï¼‰ ===== */
function xmur3(str){let h=1779033703^str.length;for(let i=0;i<str.length;i++){h=Math.imul(h^str.charCodeAt(i),3432918353);h=h<<13|h>>>19;}return function(){h=Math.imul(h^h>>>16,2246822507);h=Math.imul(h^h>>>13,3266489909);return (h^h>>>16)>>>0;}}
function mulberry32(a){return function(){var t=a+=0x6D2B79F5;t=Math.imul(t^t>>>15, t|1);t^=t+Math.imul(t^t>>>7, t|61);return ((t^t>>>14)>>>0)/4294967296;}}
function makePRNG(seedStr){
  if(!seedStr) return Math.random;
  const s = xmur3(seedStr)();
  return mulberry32(s);
}
function pick(arr, rng){return arr[Math.floor(rng()*arr.length)]}
function shuffle(arr, rng){
  const a=[...arr]; for(let i=a.length-1;i>0;i--){const j=Math.floor(rng()* (i+1)); [a[i],a[j]]=[a[j],a[i]];} return a;
}

/* ===== ãƒ†ãƒ³ãƒ—ãƒ¬ï¼†èªå½™ ===== */
const codeLex = [
  "commit", "push", "pull", "merge", "branch", "stash",
  "deploy", "build", "lint", "test", "debug", "hotfix",
  "refactor", "async", "await", "Promise", "callback",
  "class", "function", "const", "let", "var", "null",
  "NaN", "undefined", "404", "200", "500", "DNS", "SSL",
  "API", "JSON", "token", "cookie", "session", "CI/CD",
  "Git", "CLI", "UI", "UX", "DOM", "Node", "React"
];

const fillers = ["yeah", "uh", "ah", "yo", "woo", "ha", "ok", "hey"];

const moods = {
  heartbreak: {
    tone:["æœªç·´ã‚’breakã™ã‚‹","å¤œé¢¨ãŒå†·ãŸã„","æ¶™ã‚‚cacheã«ã—ã¾ã†","éå»ã”ã¨git rm"],
    verbs:["å¿˜ã‚Œã¦æ›¸ã","æ²»ã—ã¦ç«‹ã¤","ä¸Šæ›¸ãã™ã‚‹","å¡—ã‚Šå¤‰ãˆã‚‹"]
  },
  aggressive:{
    tone:["ç‰™ã‚€ã808","ç«èŠ±ãŒæ•£ã‚‹","è©•ä¾¡ã¯è‡ªåˆ†ã§push","å£ã”ã¨drop"],
    verbs:["æ®´ã‚Šæ›¸ãã™ã‚‹","ã¶ã¡ä¸Šã’ã‚‹","è¸ã¿æŠœã","ä¹—ã‚Šè¶Šãˆã‚‹"]
  },
  chill:{
    tone:["å¤œæ›´ã‘ã®lo-fi","ã‚«ãƒƒãƒ—ç‰‡æ‰‹ã«é™ã‹ãªtab","çª“ã®å¤–ã¯è¡—ã®grid","ä½åç™ºã®ä½™ç™½"],
    verbs:["ãªãã‚‹","æ•´ãˆã‚‹","æŸ“ã¿è¾¼ã¾ã›ã‚‹","ç©ã‚€"]
  },
  conscious:{
    tone:["ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®é¨’éŸ³","ã‚¢ãƒ«ã‚´ãŒå¿ƒã‚’é¸åˆ¥","å•ã„ã ã‘ãŒcommitã•ã‚Œã‚‹","æ²ˆé»™ã®PR"],
    verbs:["è¦‹ã¤ã‚ã‚‹","å•ã„ç›´ã™","æ™’ã™","ã»ã©ã"]
  },
  flex:{
    tone:["KPIã‚‚è¶Šãˆã¦ã„ãflow","æ¡é•ã„ã®bandwidth","æ¡ã€ã¾ãŸå¢—ãˆãŸdigit","ã‚¹ã‚¿ã‚¸ã‚ªã¯å¸¸æ™‚green"],
    verbs:["ç©ã¿ä¸Šã’ã‚‹","é­…ã›ã¤ã‘ã‚‹","è¨¼æ˜ã™ã‚‹","ä¸Šã’ã‚‹"]
  }
};

const lineTemplates = [
  // {WORD} = ãƒ¦ãƒ¼ã‚¶ãƒ¼å˜èª / {CODE} = ã‚³ãƒ¼ãƒ‰èªå½™ / {TONE}/{VERB} = ãƒ ãƒ¼ãƒ‰èªå½™ / {END} = éŸ»çµ‚ç«¯
  "/* {FILL} */ {WORD} ã‚’å®£è¨€ã€constã§å›ºå®šã€€æ„Ÿæƒ…ã¯immutable {END}",
  "{TONE}ã€{WORD} ã« focusã€cursor ã¯å›ã«hover {END}",
  "{CODE} èµ°ã‚‰ã™å¤œæ›´ã‘ã€{WORD} ãŒhookã—ã¦ãã‚‹ {END}",
  "å¿ƒã®console.log('{WORD}')ã€å‡ºåŠ›ã¯ç´ ç›´ã§raw {END}",
  "ãƒ‡ãƒãƒƒã‚°ã§éå»ã®ãƒã‚°å–ã‚Šã€{VERB} æœªæ¥ã®branch {END}",
  "ä¸¸ã®å†…ã®è·¯åœ°ã§ {WORD}ã€€è¶³éŸ³ã¯BPMã¨sync {END}",
  "validate ã—ã¦ã‹ã‚‰commitã€{WORD} ã¯lintæ¸ˆã¿ {END}",
  "{WORD} ã‚’payloadã€POSTã§æŠ•ã’ã‚‹é¡˜ã„ {END}",
  "é–¢æ•°ã¯åŒ¿åã§ã‚‚é­‚ã¯ç½²åã€{WORD} ã‚’æ¸¡ã™å‚ç…§ {END}",
  "rate limit è¶…ãˆã¦ã‚‚ {WORD} å«ã¶ã€retry with backoff {END}",
  "ãƒ•ãƒ­ãƒ³ãƒˆã§é­…ã›ã¦ãƒãƒƒã‚¯ã§å®ˆã‚‹ã€{WORD} ã¯secret {END}",
  "{WORD} ã¨ {CODE} ã§äºŒé‡ã‚‰ã„ã‚€ã€éŸ»ã‚’åœ§ç¸®zip {END}"
];

const hookTemplates = [
  "{FILL} {WORD} Ã— {CODE} mix, ã“ã®vibe deploy {END}",
  "Aé¢Bé¢ ã©ã£ã¡ã‚‚ä¿ºã€{WORD} ã‚’ loopã—ã¦joy {END}",
  "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã˜ã‚ƒæ¸¬ã‚Œãªã„freqã€{WORD} ã‚’é³´ã‚‰ã™toy {END}",
  "clickã§ignite, {WORD} ã§ sky ã‚’repaint {END}"
];

/* ===== ç°¡æ˜“â€œçµ‚éŸ»â€ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚° =====
   æ—¥æœ¬èªï¼‹è‹±èªã‚’ã–ã£ãã‚Šçµ‚ç«¯ã ã‘åˆã‚ã›ã‚‹æ“¬ä¼¼ãƒ­ã‚¸ãƒƒã‚¯ã€‚
*/
function tailToken(s){
  if(!s) return "a";
  s = s.toString().trim().toLowerCase();
  // æœ«å°¾ã®ã²ã‚‰ãŒãª/ã‚«ã‚¿ã‚«ãƒŠ/è‹±æ•°å­—ã®ã¿æŠ½å‡º
  const m = s.match(/[a-zã-ã‚“ã‚¡-ãƒ¶ä¸€-é¾¯0-9]+$/i);
  const tok = (m? m[0] : s).toString();

  // ãƒ­ãƒ¼ãƒå­—/è‹±èªã®æ¯éŸ³å¡Šãƒ™ãƒ¼ã‚¹
  const vowel = tok.match(/[aeiou]+[nm]?$/);
  if(vowel) return vowel[0];

  // ã‚ˆãä½¿ã†å’Œæœ«å°¾
  const jpEnds = ["ã‚“","ã‚€","ã‚‹","ã ","ã‚ˆ","ã­","ã‚‰","ã‚‰ã‚“","ãŸã„","ãªã„","ã›","ã‚","ã‘","ãœ","ãˆ","ã‹","ãª","ã‚ˆãª"];
  for(const e of jpEnds){ if(tok.endsWith(e)) return e; }

  // fallback: æœ«å°¾2ã€œ3æ–‡å­—
  return tok.slice(-2);
}

function buildRhymeEndings(rng, scheme, count){
  // ä»£è¡¨çš„ãªçµ‚ç«¯å€™è£œï¼ˆæ··ãœã‚‹ï¼‰
  const base = ["ai","ou","an","ing","ar","en","on","u","e","a","yo","da","ne","ru"];
  const picked = shuffle(base, rng).slice(0,4);
  const ends = [];
  const pattern = scheme.split(""); // e.g., ["A","A","B","B"]
  const map = {};
  let idx=0;
  for(let i=0;i<count;i++){
    const letter = pattern[i % pattern.length]; // A/Bâ€¦
    if(!(letter in map)){ map[letter] = picked[idx++ % picked.length]; }
    ends.push(map[letter]);
  }
  return ends;
}

/* ===== ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ ===== */
function generateLyric(config){
  const { words, mood, style, scheme, bars, addHook, codeTone, seed } = config;
  const rng = makePRNG(seed || (Date.now()+":"+Math.random()));

  // èªå½™æº–å‚™
  const userWords = words
    .split(/[\n,ã€]+/)
    .map(s => s.trim())
    .filter(Boolean);
  const poolWords = userWords.length? userWords : ["ç¤¾ä¼šä¸é©åˆè€…","ãƒ‡ãƒãƒƒã‚°","ç„¡é™","ä¸¸ã®å†…","ã‚·ã‚§ã‚¢ãƒã‚¦ã‚¹"];

  const codeWords = codeTone ? codeLex : codeLex.slice(0,12);
  const tone = moods[mood] || moods.chill;

  // ãƒãƒ¼æ•° & ãƒ•ãƒƒã‚¯
  const bodyBars = parseInt(bars,10);
  const hookBars = addHook ? 4 : 0;

  // çµ‚éŸ»ã‚»ãƒƒãƒˆ
  const ends = buildRhymeEndings(rng, scheme, bodyBars + hookBars);

  // ã‚¹ã‚¿ã‚¤ãƒ«ã”ã¨ã®å‘³ä»˜ã‘
  const styleSuffix = {
    boombap: () => pick(["", " â€”â€” raw", " â€” kick&snare"], rng),
    trap: () => pick([" ğŸ’¸", " ğŸ", " ğŸ”¥"], rng),
    lofi: () => pick([" â˜•", " ğŸŒ™", " ğŸŒ§ï¸"], rng)
  }[style] || (()=>"");

  // æœ¬æ–‡ç”Ÿæˆ
  const lines = [];
  for(let i=0;i<bodyBars;i++){
    const t = pick(lineTemplates, rng);
    const W = pick(poolWords, rng);
    const C = pick(codeWords, rng);
    const F = pick(fillers, rng);
    const line = t
      .replace("{WORD}", W)
      .replace("{CODE}", C)
      .replace("{FILL}", F)
      .replace("{TONE}", pick(tone.tone, rng))
      .replace("{VERB}", pick(tone.verbs, rng))
      .replace("{END}", ends[i] + styleSuffix());
    lines.push(line);
  }

  // ãƒ•ãƒƒã‚¯
  if(addHook){
    const hook = [];
    hook.push("[HOOK]");
    for(let i=0;i<4;i++){
      const t = pick(hookTemplates, rng);
      const W = pick(poolWords, rng);
      const C = pick(codeWords, rng);
      const F = pick(fillers, rng);
      hook.push(
        t.replace("{WORD}", W)
         .replace("{CODE}", C)
         .replace("{FILL}", F)
         .replace("{END}", ends[bodyBars + i] + styleSuffix())
      );
    }
    lines.splice(Math.floor(bodyBars/2), 0, ...hook);
  }

  // ãƒ˜ãƒƒãƒ€
  const head = `// --- VibeCoding Generator ---
// mood: ${mood} | style: ${style} | scheme: ${scheme} | bars: ${bars}${addHook? " (+HOOK)":""}${seed? " | seed: "+seed:""}
`;

  return head + lines.map((l,i)=> `${String(i+1).padStart(2,"0")}. ${l}`).join("\n");
}

/* ===== UIãƒã‚¤ãƒ³ãƒ‰ ===== */
const $ = (id)=>document.getElementById(id);
const out = $("out");

$("gen").addEventListener("click", ()=>{
  const text = generateLyric({
    words: $("words").value,
    mood: $("mood").value,
    style: $("style").value,
    scheme: $("scheme").value,
    bars: $("bars").value,
    addHook: $("showHooks").checked,
    codeTone: $("codeTone").checked,
    seed: $("seed").value.trim()
  });
  // ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼é¢¨ï¼ˆè»½ã‚ï¼‰
  out.textContent = "";
  let i=0;
  const speed = 1; // 0=ç¬é–“ã€æ•°å­—å¤§ãã„ã»ã©ã‚†ã£ãã‚Š
  function tick(){
    if(i>=text.length){ return; }
    out.textContent += text[i++];
    if(speed===0){ out.textContent = text; return; }
    requestAnimationFrame(tick);
  }
  tick();
});

$("copy").addEventListener("click", async ()=>{
  const txt = out.textContent.trim();
  if(!txt) return;
  try{ await navigator.clipboard.writeText(txt); toast("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ"); }
  catch{ toast("ã‚³ãƒ”ãƒ¼å¤±æ•—â€¦æ‰‹å‹•ã§ãŠé¡˜ã„ã—ã¾ã™"); }
});

$("download").addEventListener("click", ()=>{
  const blob = new Blob([out.textContent||""], {type:"text/plain;charset=utf-8"});
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "vibecording_lyric.txt";
  document.body.appendChild(a); a.click(); a.remove();
  setTimeout(()=>URL.revokeObjectURL(a.href), 1000);
});

$("share").addEventListener("click", async ()=>{
  const txt = out.textContent.trim();
  if(!txt) return;
  if(navigator.share){
    try{ await navigator.share({title:"VibeCoding Lyric", text:txt}); }
    catch(e){ /* ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç­‰ */ }
  }else{
    toast("å…±æœ‰APIéå¯¾å¿œï¼šã‚³ãƒ”ãƒ¼ã—ã¦SNSã¸ã©ã†ãï¼");
  }
});

/* ===== å°ã•ãªãƒˆãƒ¼ã‚¹ãƒˆ ===== */
function toast(msg){
  const t = document.createElement("div");
  t.textContent = msg;
  Object.assign(t.style, {
    position:"fixed", left:"50%", bottom:"24px", transform:"translateX(-50%)",
    background:"rgba(20,26,44,.95)", color:"#e7f0ff", padding:"10px 14px",
    borderRadius:"12px", border:"1px solid rgba(255,255,255,.12)", zIndex:9999
  });
  document.body.appendChild(t);
  setTimeout(()=>t.remove(), 1600);
}
</script>
</body>
</html>
